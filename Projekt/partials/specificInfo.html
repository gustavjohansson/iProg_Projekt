<!-- TODO in Lab 5: there is not much to do on the home screen. Just arrange the layout so it
looks a bit nicer. -->


<div ng-init="setItemInfo()">
  <div class="searchBox_static" style="white-space:nowrap;">

    <p ng-click="addOrRemoveItemFromFav(specificItem)" ng-class="{'glyphicon glyphicon-star':itemAlreadyInFav(specificItem), 'glyphicon glyphicon-star-empty':!itemAlreadyInFav(specificItem)}" style="color:gold;font-size: 25px;display:inline-block; margin-right:10px;"></p>
    <p style="display:inline-block;color:white; font-size: 25px; margin-top: 7px;  white-space:nowrap;"><b>{{specificItem.name}}</b></p>
    <div ng-show="removed" style="display: block; text-align:center; font-family: 'Montserrat', sans-serif;background-color: red; color: white; width: 100%;">
      {{removed}}
    </div>
    <div ng-show="added" style="display: block; text-align:center; font-family: 'Montserrat', sans-serif; background-color: green; color: white; width: 100%;">
      {{added}}
    </div>
  </div>

  <!-- <div style="display:block; margin-top:20px; margin-bottom:5px;">
<div style="display:inline-block;margin-left:10%;"><b>Vara</b></div><div style="display:inline-block; position:absolute; right:0; margin-right: 12%;"><b>CO2-avtryck</b></div>
</div> -->

  <div ng-show="specificItem.carbon.average!='???'" style="margin-top:85px; text-align: center;">
    <p><b>{{specificItem.name}}, {{specificItem.amount}} {{specificItem.unit}}</b><br/>{{specificItem.carbon.average}} gram CO2</p>
  </div>



  <div ng-show="specificItem.carbon.average!='???'" style="margin-top: 10%; text-align:center;">
    <!-- <div style="color: darkgreen; font-size:35px; margin-bottom:-50%;"><b>34%</b></div> -->

    <canvas id="myChart" width="200" height="200"></canvas>

  </div>

  <div ng-show="specificItem.carbon.average!='???'" class="col-xs-12" style="margin-top:20px; margin-bottom: 15px;text-align: center; font-size: 12px;">
      <p><i>Hela din nuvarande inköpslistalista har ett koldioxidavtryck på {{totCarbon() + specificItem.carbon.average}} gram där {{(specificItem.name).toLowerCase()}} utgör {{percentCarbon()}}%.</i></p>
  </div>

  <div ng-hide="specificItem.carbon.average!='???'" class="col-xs-12" style="margin-top:30px; margin-bottom: 15px;text-align: center; font-size: 12px;">
    <br><br><br>
      <p><b>Denna vara finns inte med i vår databas och har därför inget tillgängligt koldioxidavtryck. Vi ber om ursäkt för det!</b></p>
  </div>


  <div class="col-xs-12" style="background-color:#9BD270; text-align: center; margin-top:10px; padding-bottom:5px;">

    <label style="font-size: 23px; padding-top:20px;">Ändra mängd och enhet</label>
    <hr class="gradientLine" style="margin-top: 10px; margin-bottom:10px;">

      <form>
        <div>
            <div style="display:inline-block; margin-right: 25px;">
            <p style="display:block;color:black;"><b>Mängd:</b></p>
            <div style="display: inline-block; padding-bottom:5px;">
              <input ng-model="amountz" class="form-control input-sm" value="{{specificItem.amount}}" style="font-family: 'Montserrat', sans-serif; text-align:center; font-size: 14px;" placeholder="Mängd" type="tel" size="10">
            </div>
          </div>

          <div style="display:inline-block;">
            <p style="display:block; color:black;"><b>Enhet:</b></p>
            <div style="display: inline-block;">
              <select ng-model="unitz" ng-change="updateSpecificItem(item)" class="form-control input-sm" style="font-family: 'Montserrat', sans-serif; font-size: 14px;">
                <option value="kilo">Kilogram</option>
                <option value="gram" selected>Gram</option>
                <option value="liter">Liter</option>
                <option value="deciliter">Deciliter</option>
                <option value="styck">Styck</option>
              </select>
            </div>
          </div>
        </div>
          <button class="btn btn-default btn-sm"  style="margin-top: 10px; margin-bottom: 10px; font-size:14px; width:100px;" ng-click="updateItemForUser(amountz, unitz)"><b>Ändra</b></button>
          <div style="color: darkgreen; font-family: 'Montserrat', sans-serif; font-size: 12px;"><b>{{succesfulChange}}</b></div>
          <div style="color: #f14129; font-family: 'Montserrat', sans-serif; font-size: 12px;"><b>{{errorChange}}</b></div>
        </form>

  </div>




<div ng-show="specificItem.carbon.average!='???'">
  <div class="col-xs-12" style="background-color: white; text-align: center; margin-top:30px; ">

    <label style="font-size: 23px;">Visste du att...</label>
    <hr class="gradientLine" style="margin-top: 10px; margin-bottom:10px;">
  </div>

  <div class="col-xs-12" style="padding-top:5px; padding-bottom: 60px;">
    <p style="text-align:center;">... {{specificItem.amount}}{{specificItem.unit}} {{(specificItem.name).toLowerCase()}} har ett koldioxidavtryck på {{specificItem.carbon.average}}g?</p>
    <p style="text-align:center;">Det motsvarar lika mycket som antingen en {{(0.00578*specificItem.carbon.average).toFixed(0)}} km lång bilresa,
      {{(4.23729*specificItem.carbon.average).toFixed(0)}} stycken mobilladningar,
      användningen av en laptop i {{(0.5*specificItem.carbon.average).toFixed(0)}} timmar eller
      {{(0.00437*specificItem.carbon.average).toFixed(0)}} stycken öl.</p>
</div>

</div>


<div class="footer">
  <a href="#!/search" class="btn btn-default btn-sm" style="color: darkgreen; margin-top: 5px;"><b style="font-size: 18px;">Tillbaka till inköpslistan</b></a>
</div>
</div>





















<!-- FUNKAR JÄTTEBRA FÖR THREEWAYBINDING!! -->
<!-- FUNKAR JÄTTEBRA FÖR THREEWAYBINDING!! -->
<!-- FUNKAR JÄTTEBRA FÖR THREEWAYBINDING!! -->

<!-- <form ng-controller="TestCtrl">
    <div style="text-align:center; padding-top:5px; padding-bottom: 10px;">
      <div style="display: inline-block; margin-right: 20px; padding-bottom:5px;">
        <label>Mängd:</label>
        <input placeholder="{{specificItem.amount}}" type="text" size="5" ng-model="item.amount">
      </div>

      <div style="display: inline-block;">
        <label>Enhet:</label>
        <select ng-model="item.unit" ng-change="updateSpecificItem(item)">
          <option value="kilo" selected>Kilogram</option>
          <option value="gram">Gram</option>
          <option value="liter">Liter</option>
          <option value="deciliter">Deciliter</option>
          <option value="styck">Styck</option>
        </select>
      </div>
    </div>

  </form> -->
  <!-- FUNKAR JÄTTEBRA FÖR THREEWAYBINDING!! -->
  <!-- FUNKAR JÄTTEBRA FÖR THREEWAYBINDING!! -->
  <!-- FUNKAR JÄTTEBRA FÖR THREEWAYBINDING!! -->
